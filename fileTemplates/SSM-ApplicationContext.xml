<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-3.0.xsd"
       default-lazy-init="false">
       <context:property-placeholder location="WEB-INF/dataSource.properties"/>
       <!--destroy-method当数据库不使用时，把连接放到连接池，方便下次使用
      maxTotal 最大连接数 maxIdle 最大空闲时间 超过时间，数据库被标为不可用并释放-->
    <!--数据库配置-->
    <bean id="dataSource" class="org.apache.commons.dbcp2.BasicDataSource" 
    destroy-method="close"
    p:driverClassName="${dataSource.driver}"
    p:url="${dataSource.url}"
    p:username="${dataSource.username}"
    p:password="${dataSource.password}"
    p:maxTotal="${dataSource.maxTotal}"
    p:maxIdle="${dataSource.maxIdle}"/>
    <!--开启事务-->
    <bean id="dataSourceTransactionManager"
          class="org.springframework.jdbc.datasource.DataSourceTransactionManager"
          p:dataSource-ref="dataSource"/>
    <!--SqlSessionFactory配置
    configLocation指定MyBatis核心配置文件-->
    <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"
          p:dataSource-ref="dataSource"
          p:configLocation=""
          p:mapperLocations=""/>
      <!--Mapper Bean -->
    <bean id="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer"
          p:basePackage=""/>
    <!--<bean class="org.mybatis.spring.mapper.MapperFactoryBean"-->
          <!--p:sqlSessionFactory-ref="sqlSessionFactory"-->
          <!--p:mapperInterface=""/>-->
</beans>